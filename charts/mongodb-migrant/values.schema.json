{
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "$id": "http://example.com/example.json",
    "type": "object",
    "default": {},
    "title": "Root Schema",
    "required": [
        "image",
        "database_credentials",
        "migrations"
    ],
    "properties": {
        "image": {
            "type": "string",
            "default": "migrate/migrate",
            "title": "Migrator Image",
            "examples": [
                "migrate/migrate"
            ]
        },
        "database_credentials": {
            "type": "object",
            "default": {},
            "title": "The database_credentials Schema",
            "required": [
                "db_type",
                "db_host",
                "db_port",
                "db_user",
                "db_password"
            ],
            "properties": {
                "db_type": {
                    "type": "string",
                    "default": "postgress",
                    "description": "database type",
                    "title": "database type",
                    "examples": [
                        "postgress",
                        "sql"
                    ]
                },
                "db_user": {
                    "type": "string",
                    "default": "",
                    "title": "The db_user Schema",
                    "examples": [
                        "postgres"
                    ]
                },
                "db_host": {
                    "type": "string",
                    "default": "postgresql-postgresql.default",
                    "description": "database host url",
                    "title": "database host",
                    "examples": [
                        "postgresql-postgresql.demo-test",
                        "postgresql-service.qa-database"
                    ]
                },
                "db_port": {
                    "type": "string",
                    "default": "5432",
                    "description": "database port number",
                    "title": "database port",
                    "examples": [
                        "5432"
                    ]
                },
                "db_password": {
                    "type": "string",
                    "default": "",
                    "description": "database password string",
                    "title": "database password",
                    "examples": [
                        "myDBPasswordSecret"
                    ]
                }
            },
            "examples": [
                {
                    "db_type": "postgres",
                    "db_host": "postgresql-postgresql.devtroncd",
                    "db_port": "5432",
                    "db_user": "postgres",
                    "db_password": "xxxxxx"
                }
            ]
        },
        "migrations": {
            "type": "array",
            "default": [],
            "title": "The migrations Schema",
            "items": {
                "type": "object",
                "title": "A Schema",
                "required": [
                    "location",
                    "git_token",
                    "git_user",
                    "git_repo",
                    "db_name",
                    "version"
                ],
                "properties": {
                    "enable": {
                        "type": "boolean",
                        "title": "enable",
                        "examples": [
                            "true"
                        ]
                    },
                    "location": {
                        "type": "string",
                        "title": "The location Schema",
                        "examples": [
                            "scripts/sql/"
                        ]
                    },
                    "git_token": {
                        "type": "string",
                        "title": "The git_token Schema",
                        "examples": [
                            "xxxxxx"
                        ]
                    },
                    "git_user": {
                        "type": "string",
                        "title": "The git_user Schema",
                        "examples": [
                            "yyy"
                        ]
                    },
                    "git_repo": {
                        "type": "string",
                        "title": "The git_repo Schema",
                        "examples": [
                            "devtron-labs/devtron",
                            "devtron-labs/git-sensor"
                        ]
                    },
                    "db_name": {
                        "type": "string",
                        "title": "The db_name Schema",
                        "examples": [
                            "orchestrator",
                            "git_sensor"
                        ]
                    },
                    "version": {
                        "type": "string",
                        "title": "The version Schema",
                        "examples": [
                            "0"
                        ]
                    }
                },
                "examples": [
                    {
                        "location": "scripts/sql/",
                        "git_token": "xxxxxx",
                        "git_user": "yyy",
                        "git_repo": "devtron-labs/devtron",
                        "db_name": "orchestrator",
                        "version": "0"
                    },
                    {
                        "location": "scripts/sql/",
                        "git_token": "xxxxxx",
                        "git_user": "yyy",
                        "git_repo": "devtron-labs/git-sensor",
                        "db_name": "git_sensor",
                        "version": "0"
                    }
                ]
            },
            "examples": [
                [
                    {
                        "location": "scripts/sql/",
                        "git_token": "xxxxxx",
                        "git_user": "yyy",
                        "git_repo": "devtron-labs/devtron",
                        "db_name": "orchestrator",
                        "version": "0"
                    },
                    {
                        "location": "scripts/sql/",
                        "git_token": "xxxxxx",
                        "git_user": "yyy",
                        "git_repo": "devtron-labs/git-sensor",
                        "db_name": "git_sensor",
                        "version": "0"
                    }
                ]
            ]
        }
    },
    "examples": [
        {
            "image": "migrate/migrate",
            "database_credentials": {
                "db_type": "postgres",
                "db_host": "postgresql-postgresql.devtroncd",
                "db_port": 5432,
                "db_user": "postgres",
                "db_password": "xxxxxx"
            },
            "migrations": [
                {
                    "location": "scripts/sql/",
                    "git_token": "xxxxxx",
                    "git_user": "yyy",
                    "git_repo": "devtron-labs/devtron",
                    "db_name": "orchestrator",
                    "version": "0"
                },
                {
                    "location": "scripts/sql/",
                    "git_token": "xxxxxx",
                    "git_user": "yyy",
                    "git_repo": "devtron-labs/git-sensor",
                    "db_name": "git_sensor",
                    "version": "0"
                }
            ]
        }
    ]
}